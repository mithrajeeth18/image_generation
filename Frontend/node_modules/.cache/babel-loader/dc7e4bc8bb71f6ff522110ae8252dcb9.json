{"ast":null,"code":"var _jsxFileName = \"/Users/mithra707/Downloads/image_generation/Frontend/src/DragAndDrop.js\";\nimport React, { useRef, useEffect } from \"react\";\nimport \"./DragAndDrop.css\";\nimport { fabric } from \"fabric\";\nconst DragAndDropWithText = ({\n  setCanvas\n}) => {\n  const canvasRef = useRef(null);\n  const fabricCanvasRef = useRef(null);\n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    const fabricCanvas = new fabric.Canvas(canvasElement, {\n      backgroundColor: \"white\",\n      // Set canvas background to white\n      width: 700,\n      height: 500\n    });\n    fabricCanvasRef.current = fabricCanvas;\n    setCanvas(fabricCanvas); // Set the canvas reference\n\n    // Event listener for keydown\n    const handleKeyDown = e => {\n      if ((e.key === \"Delete\" || e.key === \"Backspace\") && (e.metaKey || e.ctrlKey)) {\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n          fabricCanvas.remove(activeObject);\n          fabricCanvas.renderAll();\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      fabricCanvas.dispose();\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [setCanvas]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    ref: canvasRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })));\n};\nexport default DragAndDropWithText;","map":{"version":3,"names":["React","useRef","useEffect","fabric","DragAndDropWithText","setCanvas","canvasRef","fabricCanvasRef","canvasElement","current","fabricCanvas","Canvas","backgroundColor","width","height","handleKeyDown","e","key","metaKey","ctrlKey","activeObject","getActiveObject","remove","renderAll","document","addEventListener","dispose","removeEventListener","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref"],"sources":["/Users/mithra707/Downloads/image_generation/Frontend/src/DragAndDrop.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport \"./DragAndDrop.css\";\nimport { fabric } from \"fabric\";\n\nconst DragAndDropWithText = ({ setCanvas }) => {\n  const canvasRef = useRef(null);\n  const fabricCanvasRef = useRef(null);\n\n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    const fabricCanvas = new fabric.Canvas(canvasElement, {\n      backgroundColor: \"white\", // Set canvas background to white\n      width: 700,\n      height: 500,\n    });\n    fabricCanvasRef.current = fabricCanvas;\n    setCanvas(fabricCanvas); // Set the canvas reference\n\n    // Event listener for keydown\n    const handleKeyDown = (e) => {\n      if (\n        (e.key === \"Delete\" || e.key === \"Backspace\") &&\n        (e.metaKey || e.ctrlKey)\n      ) {\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n          fabricCanvas.remove(activeObject);\n          fabricCanvas.renderAll();\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      fabricCanvas.dispose();\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [setCanvas]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"drag-area\">\n        <canvas ref={canvasRef} />\n      </div>\n    </div>\n  );\n};\n\nexport default DragAndDropWithText;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChD,OAAO,mBAAmB;AAC1B,SAASC,MAAM,QAAQ,QAAQ;AAE/B,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAC7C,MAAMC,SAAS,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMM,eAAe,GAAGN,MAAM,CAAC,IAAI,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACd,MAAMM,aAAa,GAAGF,SAAS,CAACG,OAAO;IACvC,MAAMC,YAAY,GAAG,IAAIP,MAAM,CAACQ,MAAM,CAACH,aAAa,EAAE;MACpDI,eAAe,EAAE,OAAO;MAAE;MAC1BC,KAAK,EAAE,GAAG;MACVC,MAAM,EAAE;IACV,CAAC,CAAC;IACFP,eAAe,CAACE,OAAO,GAAGC,YAAY;IACtCL,SAAS,CAACK,YAAY,CAAC,CAAC,CAAC;;IAEzB;IACA,MAAMK,aAAa,GAAIC,CAAC,IAAK;MAC3B,IACE,CAACA,CAAC,CAACC,GAAG,KAAK,QAAQ,IAAID,CAAC,CAACC,GAAG,KAAK,WAAW,MAC3CD,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACG,OAAO,CAAC,EACxB;QACA,MAAMC,YAAY,GAAGV,YAAY,CAACW,eAAe,CAAC,CAAC;QACnD,IAAID,YAAY,EAAE;UAChBV,YAAY,CAACY,MAAM,CAACF,YAAY,CAAC;UACjCV,YAAY,CAACa,SAAS,CAAC,CAAC;QAC1B;MACF;IACF,CAAC;IAEDC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEV,aAAa,CAAC;IAEnD,OAAO,MAAM;MACXL,YAAY,CAACgB,OAAO,CAAC,CAAC;MACtBF,QAAQ,CAACG,mBAAmB,CAAC,SAAS,EAAEZ,aAAa,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACV,SAAS,CAAC,CAAC;EAEf,oBACEL,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBnC,KAAA,CAAA4B,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBnC,KAAA,CAAA4B,aAAA;IAAQQ,GAAG,EAAE9B,SAAU;IAAAwB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACtB,CACF,CAAC;AAEV,CAAC;AAED,eAAe/B,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module"}